[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "ISSS608 Lwn0170",
    "section": "",
    "text": "This is a Quarto website.\nTo learn more about Quarto websites visit https://quarto.org/docs/websites."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "HE01.html",
    "href": "HE01.html",
    "title": "Hands-on Exercise 1",
    "section": "",
    "text": "Overview\nThis is my first attempt to create the coursework website.\n\n\nGetting started\n\npacman::p_load(tidyverse)\n\n\n\nThe Data\n\nexam_data &lt;- read_csv(\"C:/Users/jiayi/Documents/SMU/26 Jan Term/ISSS608_Visual_Analytics_and_Applications/ISSS608_Lwn0170/data/Exam_data.csv\")\n\n\n\nFirst Visualization\n\n#1.7.1\nggplot(data = exam_data,\n       aes(x = RACE)) +\n  geom_bar()  \n\n\n\n\n\n\n\n#1.7.2\nggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot(dotsize = 0.5)\n\n\n\n\n\n\n\nggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot(binwidth=2.5,         \n               dotsize = 0.5) +      \n  scale_y_continuous(NULL,           \n                     breaks = NULL)  \n\n\n\n\n\n\n\n#1.7.3#\nggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_histogram() \n\n\n\n\n\n\n\n#1.7.4#\nggplot(data=exam_data, \n       aes(x= MATHS)) +\n  geom_histogram(bins=20,            \n                 color=\"black\",      \n                 fill=\"light blue\")  \n\n\n\n\n\n\n\n#1.7.5\nggplot(data=exam_data, \n       aes(x= MATHS, \n           fill = GENDER)) +\n  geom_histogram(bins=20, \n                 color=\"grey30\")\n\n\n\n\n\n\n\n#1.7.6\nggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_density()           \n\n\n\n\n\n\n\nggplot(data=exam_data, \n       aes(x = MATHS, \n           colour = GENDER)) +\n  geom_density()\n\n\n\n\n\n\n\n#1.7.7\nggplot(data=exam_data, \n       aes(y = MATHS,       \n           x= GENDER)) +    \n  geom_boxplot()            \n\n\n\n\n\n\n\nggplot(data=exam_data, \n       aes(y = MATHS, \n           x= GENDER)) +\n  geom_boxplot(notch=TRUE)\n\n\n\n\n\n\n\n#1.7.8\nggplot(data=exam_data, \n       aes(y = MATHS, \n           x= GENDER)) +\n  geom_violin()\n\n\n\n\n\n\n\n#1.7.9\nggplot(data=exam_data, \n       aes(x= MATHS, \n           y=ENGLISH)) +\n  geom_point()            \n\n\n\n\n\n\n\n#1.7.10\nggplot(data=exam_data, \n       aes(y = MATHS, \n           x= GENDER)) +\n  geom_boxplot() +                    \n  geom_point(position=\"jitter\", \n             size = 0.5)        \n\n\n\n\n\n\n\n#1.8.1\nggplot(data=exam_data, \n       aes(y = MATHS, x= GENDER)) +\n  geom_boxplot()\n\n\n\n\n\n\n\n#1.8.2\nggplot(data=exam_data, \n       aes(y = MATHS, x= GENDER)) +\n  geom_boxplot() +\n  stat_summary(geom = \"point\",       \n               fun = \"mean\",         \n               colour =\"red\",        \n               size=4)               \n\n\n\n\n\n\n\n#1.8.3\nggplot(data=exam_data, \n       aes(y = MATHS, x= GENDER)) +\n  geom_boxplot() +\n  geom_point(stat=\"summary\",        \n             fun=\"mean\",           \n             colour=\"red\",          \n             size=4)                    \n\n\n\n\n\n\n\n#1.8.4\nggplot(data=exam_data, \n       aes(x= MATHS, y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(size=0.5)\n\n\n\n\n\n\n\nggplot(data=exam_data, \n       aes(x= MATHS, \n           y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, \n              linewidth=0.5)\n\n\n\n\n\n\n\n#1.9.1\nggplot(data=exam_data, \n       aes(x= MATHS)) +\n  geom_histogram(bins=20) +\n  facet_wrap(~ CLASS)\n\n\n\n\n\n\n\n#1.9.2\nggplot(data=exam_data, \n       aes(x= MATHS)) +\n  geom_histogram(bins=20) +\n  facet_grid(~ CLASS)\n\n\n\n\n\n\n\n#1.10.1\nggplot(data=exam_data, \n       aes(x=RACE)) +\n  geom_bar() +\n  coord_flip()\n\n\n\n\n\n\n\n#1.10.2\nggplot(data=exam_data, \n       aes(x= MATHS, y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, \n              size=0.5) +  \n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\n\n\n\n\n\n\n\n#1.11.1\nggplot(data=exam_data, \n       aes(x=RACE)) +\n  geom_bar() +\n  coord_flip() +\n  theme_classic()\n\n\n\n\n\n\n\nggplot(data=exam_data, \n       aes(x=RACE)) +\n  geom_bar() +\n  coord_flip() +\n  theme_minimal()"
  },
  {
    "objectID": "HE01.html#getting-started",
    "href": "HE01.html#getting-started",
    "title": "Hands-on Exercise 1",
    "section": "",
    "text": "pacman::p_load(tidyverse)"
  },
  {
    "objectID": "HE02.html",
    "href": "HE02.html",
    "title": "Hands-on Exercise 2",
    "section": "",
    "text": "This is Hands-on Exercise 2 about ggplot2 extensions for improved ."
  },
  {
    "objectID": "HE02.html#importing-data",
    "href": "HE02.html#importing-data",
    "title": "Hands-on Exercise 2",
    "section": "Importing Data",
    "text": "Importing Data\n\nexam_data &lt;- read_csv(\"C:/Users/jiayi/Documents/SMU/26 Jan Term/ISSS608_Visual_Analytics_and_Applications/ISSS608_Lwn0170/data/Exam_data.csv\")"
  },
  {
    "objectID": "HE03.html",
    "href": "HE03.html",
    "title": "Hands-on Exercise 3",
    "section": "",
    "text": "This is Hands-on Exercise 3 about how to create interactive data visualisation by using functions provided by ggiraph and plotlyr packages."
  },
  {
    "objectID": "HE03.html#customising-tooltip-style",
    "href": "HE03.html#customising-tooltip-style",
    "title": "Hands-on Exercise 3",
    "section": "3.6.1 Customising Tooltip style",
    "text": "3.6.1 Customising Tooltip style\n\ntooltip_css &lt;- \"background-color:white; #&lt;&lt;\nfont-style:bold; color:black;\" #&lt;&lt;\n\np &lt;- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(              \n    aes(tooltip = ID),                   \n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") +               \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(                                  \n  ggobj = p,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618,\n  options = list(    #&lt;&lt;\n    opts_tooltip(    #&lt;&lt;\n      css = tooltip_css)) #&lt;&lt;\n)\n\n\n\n\n\n\n3.6.2 Displaying statistics on tooltip\n\ntooltip &lt;- function(y, ymax, accuracy = .01) {\n  mean &lt;- scales::number(y, accuracy = accuracy)\n  sem &lt;- scales::number(ymax - y, accuracy = accuracy)\n  paste(\"Mean maths scores:\", mean, \"+/-\", sem)\n}\n\ngg_point &lt;- ggplot(data=exam_data, \n                   aes(x = RACE),\n) +\n  stat_summary(aes(y = MATHS, \n                   tooltip = after_stat(  \n                     tooltip(y, ymax))),  \n    fun.data = \"mean_se\", \n    geom = GeomInteractiveCol,  \n    fill = \"light blue\"\n  ) +\n  stat_summary(aes(y = MATHS),\n    fun.data = mean_se,\n    geom = \"errorbar\", width = 0.2, size = 0.2\n  )\n\ngirafe(ggobj = gg_point,\n       width_svg = 8,\n       height_svg = 8*0.618)"
  },
  {
    "objectID": "HE03.html#hover-effect-with-data_id-aesthetic",
    "href": "HE03.html#hover-effect-with-data_id-aesthetic",
    "title": "Hands-on Exercise 3",
    "section": "3.6.3 Hover effect with data_id aesthetic",
    "text": "3.6.3 Hover effect with data_id aesthetic\n\np &lt;- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(           \n    aes(data_id = CLASS),             \n    stackgroups = TRUE,               \n    binwidth = 1,                        \n    method = \"histodot\") +               \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(                                  \n  ggobj = p,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618)"
  },
  {
    "objectID": "HE03.html#styling-hover-effect",
    "href": "HE03.html#styling-hover-effect",
    "title": "Hands-on Exercise 3",
    "section": "3.6.4 Styling hover effect",
    "text": "3.6.4 Styling hover effect\n\np &lt;- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(              \n    aes(data_id = CLASS),              \n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") +               \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(                                  \n  ggobj = p,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618,\n  options = list(                        \n    opts_hover(css = \"fill: #202020;\"),  \n    opts_hover_inv(css = \"opacity:0.2;\") \n  )                                        \n)"
  },
  {
    "objectID": "HE03.html#combining-tooltip-and-hover-effect",
    "href": "HE03.html#combining-tooltip-and-hover-effect",
    "title": "Hands-on Exercise 3",
    "section": "3.6.5 Combining tooltip and hover effect",
    "text": "3.6.5 Combining tooltip and hover effect\n\np &lt;- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(              \n    aes(tooltip = CLASS, \n        data_id = CLASS),              \n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") +               \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(                                  \n  ggobj = p,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618,\n  options = list(                        \n    opts_hover(css = \"fill: #202020;\"),  \n    opts_hover_inv(css = \"opacity:0.2;\") \n  )                                        \n)"
  },
  {
    "objectID": "HE03.html#click-effect-with-onclick",
    "href": "HE03.html#click-effect-with-onclick",
    "title": "Hands-on Exercise 3",
    "section": "3.6.6 Click effect with onclick",
    "text": "3.6.6 Click effect with onclick\n\nexam_data$onclick &lt;- sprintf(\"window.open(\\\"%s%s\\\")\",\n\"https://www.moe.gov.sg/schoolfinder?journey=Primary%20school\",\nas.character(exam_data$ID))\n\np &lt;- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(              \n    aes(onclick = onclick),              \n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") +               \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(                                  \n  ggobj = p,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618)"
  },
  {
    "objectID": "HE03.html#coordinated-multiple-views-with-ggiraph",
    "href": "HE03.html#coordinated-multiple-views-with-ggiraph",
    "title": "Hands-on Exercise 3",
    "section": "3.6.7 Coordinated Multiple Views with ggiraph",
    "text": "3.6.7 Coordinated Multiple Views with ggiraph\n\np1 &lt;- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(              \n    aes(data_id = ID),              \n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") +  \n  coord_cartesian(xlim=c(0,100)) + \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\n\np2 &lt;- ggplot(data=exam_data, \n       aes(x = ENGLISH)) +\n  geom_dotplot_interactive(              \n    aes(data_id = ID),              \n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") + \n  coord_cartesian(xlim=c(0,100)) + \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\n\ngirafe(code = print(p1 + p2), \n       width_svg = 6,\n       height_svg = 3,\n       options = list(\n         opts_hover(css = \"fill: #202020;\"),\n         opts_hover_inv(css = \"opacity:0.2;\")\n         )\n       )"
  },
  {
    "objectID": "HE03.html#creating-an-interactive-scatter-plot-plot_ly-method",
    "href": "HE03.html#creating-an-interactive-scatter-plot-plot_ly-method",
    "title": "Hands-on Exercise 3",
    "section": "3.7.1 Creating an interactive scatter plot: plot_ly() method",
    "text": "3.7.1 Creating an interactive scatter plot: plot_ly() method\n\nplot_ly(data = exam_data, \n             x = ~MATHS, \n             y = ~ENGLISH)"
  },
  {
    "objectID": "HE03.html#working-with-visual-variable-plot_ly-method",
    "href": "HE03.html#working-with-visual-variable-plot_ly-method",
    "title": "Hands-on Exercise 3",
    "section": "3.7.2 Working with visual variable: plot_ly() method",
    "text": "3.7.2 Working with visual variable: plot_ly() method\n\nplot_ly(data = exam_data, \n        x = ~ENGLISH, \n        y = ~MATHS, \n        color = ~RACE)"
  },
  {
    "objectID": "HE03.html#creating-an-interactive-scatter-plot-ggplotly-method",
    "href": "HE03.html#creating-an-interactive-scatter-plot-ggplotly-method",
    "title": "Hands-on Exercise 3",
    "section": "3.7.3 Creating an interactive scatter plot: ggplotly() method",
    "text": "3.7.3 Creating an interactive scatter plot: ggplotly() method\n\np &lt;- ggplot(data=exam_data, \n            aes(x = MATHS,\n                y = ENGLISH)) +\n  geom_point(size=1) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\nggplotly(p)"
  },
  {
    "objectID": "HE03.html#coordinated-multiple-views-with-plotly",
    "href": "HE03.html#coordinated-multiple-views-with-plotly",
    "title": "Hands-on Exercise 3",
    "section": "3.7.4 Coordinated Multiple Views with plotly",
    "text": "3.7.4 Coordinated Multiple Views with plotly\n\nd &lt;- highlight_key(exam_data)\np1 &lt;- ggplot(data=d, \n            aes(x = MATHS,\n                y = ENGLISH)) +\n  geom_point(size=1) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\n\np2 &lt;- ggplot(data=d, \n            aes(x = MATHS,\n                y = SCIENCE)) +\n  geom_point(size=1) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\nsubplot(ggplotly(p1),\n        ggplotly(p2))\n\n\n\n\n\n#3.8 Crosstalk methods ## 3.8.1 Interactive Data Table: DT package\n\nDT::datatable(exam_data, class= \"compact\")"
  },
  {
    "objectID": "HE03.html#linked-brushing-crosstalk-method",
    "href": "HE03.html#linked-brushing-crosstalk-method",
    "title": "Hands-on Exercise 3",
    "section": "3.8.2 Linked brushing: crosstalk method",
    "text": "3.8.2 Linked brushing: crosstalk method\n\nd &lt;- highlight_key(exam_data) \np &lt;- ggplot(d, \n            aes(ENGLISH, \n                MATHS)) + \n  geom_point(size=1) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\n\ngg &lt;- highlight(ggplotly(p),        \n                \"plotly_selected\")  \n\ncrosstalk::bscols(gg,               \n                  DT::datatable(d), \n                  widths = 5)"
  },
  {
    "objectID": "HE03.html#ggplotly-method",
    "href": "HE03.html#ggplotly-method",
    "title": "Hands-on Exercise 3",
    "section": "4.4.1 ggplotly() method",
    "text": "4.4.1 ggplotly() method\n\ngg &lt;- ggplot(globalPop, \n       aes(x = Old, \n           y = Young, \n           size = Population, \n           colour = Country)) +\n  geom_point(aes(size = Population,\n                 frame = Year),\n             alpha = 0.7, \n             show.legend = FALSE) +\n  scale_colour_manual(values = country_colors) +\n  scale_size(range = c(2, 12)) +\n  labs(x = '% Aged', \n       y = '% Young')\n\nggplotly(gg)\n\n\n\n\ngg &lt;- ggplot(globalPop, \n       aes(x = Old, \n           y = Young, \n           size = Population, \n           colour = Country)) +\n  geom_point(aes(size = Population,\n                 frame = Year),\n             alpha = 0.7) +\n  scale_colour_manual(values = country_colors) +\n  scale_size(range = c(2, 12)) +\n  labs(x = '% Aged', \n       y = '% Young') + \n  theme(legend.position='none')\n\nggplotly(gg)"
  },
  {
    "objectID": "HE03.html#plot_ly-method",
    "href": "HE03.html#plot_ly-method",
    "title": "Hands-on Exercise 3",
    "section": "4.4.2 plot_ly() method",
    "text": "4.4.2 plot_ly() method\n\nbp &lt;- globalPop %&gt;%\n  plot_ly(x = ~Old, \n          y = ~Young, \n          size = ~Population, \n          color = ~Continent,\n          sizes = c(2, 100),\n          frame = ~Year, \n          text = ~Country, \n          hoverinfo = \"text\",\n          type = 'scatter',\n          mode = 'markers'\n          ) %&gt;%\n  layout(showlegend = FALSE)\nbp"
  },
  {
    "objectID": "HE04.html",
    "href": "HE04.html",
    "title": "Hands-on Exercise 4",
    "section": "",
    "text": "This is Hands-on Exercise 4.1 about two new statistical graphic methods for visualising distribution, ridgeline plot and raincloud plot by using ggplot2 and its extensions.\n\n\n\npacman::p_load(ggdist, ggridges, ggthemes, colorspace, tidyverse)\n\n\n\n\n\nexam &lt;- read_csv(\"C:/Users/jiayi/Documents/SMU/26 Jan Term/ISSS608_Visual_Analytics_and_Applications/ISSS608_Lwn0170/data/Exam_data.csv\")\n\n\n\n\n\nggplot(exam, \n       aes(x = ENGLISH, \n           y = CLASS)) +\n  geom_density_ridges(\n    scale = 3,\n    rel_min_height = 0.01,\n    bandwidth = 3.4,\n    fill = lighten(\"#7097BB\", .3),\n    color = \"white\"\n  ) +\n  scale_x_continuous(\n    name = \"English grades\",\n    expand = c(0, 0)\n    ) +\n  scale_y_discrete(name = NULL, expand = expansion(add = c(0.2, 2.6))) +\n  theme_ridges()\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam, \n       aes(x = ENGLISH, \n           y = CLASS,\n           fill = stat(x))) +\n  geom_density_ridges_gradient(\n    scale = 3,\n    rel_min_height = 0.01) +\n  scale_fill_viridis_c(name = \"Temp. [F]\",\n                       option = \"C\") +\n  scale_x_continuous(\n    name = \"English grades\",\n    expand = c(0, 0)\n  ) +\n  scale_y_discrete(name = NULL, expand = expansion(add = c(0.2, 2.6))) +\n  theme_ridges()\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam,\n       aes(x = ENGLISH, \n           y = CLASS, \n           fill = 0.5 - abs(0.5-stat(ecdf)))) +\n  stat_density_ridges(geom = \"density_ridges_gradient\", \n                      calc_ecdf = TRUE) +\n  scale_fill_viridis_c(name = \"Tail probability\",\n                       direction = -1) +\n  theme_ridges()\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam,\n       aes(x = ENGLISH, \n           y = CLASS, \n           fill = factor(stat(quantile))\n           )) +\n  stat_density_ridges(\n    geom = \"density_ridges_gradient\",\n    calc_ecdf = TRUE, \n    quantiles = 4,\n    quantile_lines = TRUE) +\n  scale_fill_viridis_d(name = \"Quartiles\") +\n  theme_ridges()\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam,\n       aes(x = ENGLISH, \n           y = CLASS, \n           fill = factor(stat(quantile))\n           )) +\n  stat_density_ridges(\n    geom = \"density_ridges_gradient\",\n    calc_ecdf = TRUE, \n    quantiles = c(0.025, 0.975)\n    ) +\n  scale_fill_manual(\n    name = \"Probability\",\n    values = c(\"#FF0000A0\", \"#A0A0A0A0\", \"#0000FFA0\"),\n    labels = c(\"(0, 0.025]\", \"(0.025, 0.975]\", \"(0.975, 1]\")\n  ) +\n  theme_ridges()\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam, \n       aes(x = RACE, \n           y = ENGLISH)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA)\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam, \n       aes(x = RACE, \n           y = ENGLISH)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA) +\n  geom_boxplot(width = .20,\n               outlier.shape = NA)\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam, \n       aes(x = RACE, \n           y = ENGLISH)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA) +\n  geom_boxplot(width = .20,\n               outlier.shape = NA) +\n  stat_dots(side = \"left\", \n            justification = 1.2, \n            binwidth = .5,\n            dotsize = 2)\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam, \n       aes(x = RACE, \n           y = ENGLISH)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA) +\n  geom_boxplot(width = .20,\n               outlier.shape = NA) +\n  stat_dots(side = \"left\", \n            justification = 1.2, \n            binwidth = .5,\n            dotsize = 1.5) +\n  coord_flip() +\n  theme_economist()"
  },
  {
    "objectID": "HE04.html#getting-start",
    "href": "HE04.html#getting-start",
    "title": "Hands-on Exercise 4",
    "section": "",
    "text": "pacman::p_load(ggdist, ggridges, ggthemes, colorspace, tidyverse)"
  },
  {
    "objectID": "HE04.html#importing-data",
    "href": "HE04.html#importing-data",
    "title": "Hands-on Exercise 4",
    "section": "",
    "text": "exam &lt;- read_csv(\"C:/Users/jiayi/Documents/SMU/26 Jan Term/ISSS608_Visual_Analytics_and_Applications/ISSS608_Lwn0170/data/Exam_data.csv\")"
  },
  {
    "objectID": "HE04.html#ridgeline",
    "href": "HE04.html#ridgeline",
    "title": "Hands-on Exercise 4",
    "section": "",
    "text": "ggplot(exam, \n       aes(x = ENGLISH, \n           y = CLASS)) +\n  geom_density_ridges(\n    scale = 3,\n    rel_min_height = 0.01,\n    bandwidth = 3.4,\n    fill = lighten(\"#7097BB\", .3),\n    color = \"white\"\n  ) +\n  scale_x_continuous(\n    name = \"English grades\",\n    expand = c(0, 0)\n    ) +\n  scale_y_discrete(name = NULL, expand = expansion(add = c(0.2, 2.6))) +\n  theme_ridges()\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam, \n       aes(x = ENGLISH, \n           y = CLASS,\n           fill = stat(x))) +\n  geom_density_ridges_gradient(\n    scale = 3,\n    rel_min_height = 0.01) +\n  scale_fill_viridis_c(name = \"Temp. [F]\",\n                       option = \"C\") +\n  scale_x_continuous(\n    name = \"English grades\",\n    expand = c(0, 0)\n  ) +\n  scale_y_discrete(name = NULL, expand = expansion(add = c(0.2, 2.6))) +\n  theme_ridges()\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam,\n       aes(x = ENGLISH, \n           y = CLASS, \n           fill = 0.5 - abs(0.5-stat(ecdf)))) +\n  stat_density_ridges(geom = \"density_ridges_gradient\", \n                      calc_ecdf = TRUE) +\n  scale_fill_viridis_c(name = \"Tail probability\",\n                       direction = -1) +\n  theme_ridges()\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam,\n       aes(x = ENGLISH, \n           y = CLASS, \n           fill = factor(stat(quantile))\n           )) +\n  stat_density_ridges(\n    geom = \"density_ridges_gradient\",\n    calc_ecdf = TRUE, \n    quantiles = 4,\n    quantile_lines = TRUE) +\n  scale_fill_viridis_d(name = \"Quartiles\") +\n  theme_ridges()\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam,\n       aes(x = ENGLISH, \n           y = CLASS, \n           fill = factor(stat(quantile))\n           )) +\n  stat_density_ridges(\n    geom = \"density_ridges_gradient\",\n    calc_ecdf = TRUE, \n    quantiles = c(0.025, 0.975)\n    ) +\n  scale_fill_manual(\n    name = \"Probability\",\n    values = c(\"#FF0000A0\", \"#A0A0A0A0\", \"#0000FFA0\"),\n    labels = c(\"(0, 0.025]\", \"(0.025, 0.975]\", \"(0.975, 1]\")\n  ) +\n  theme_ridges()"
  },
  {
    "objectID": "HE04.html#raincloud-plot",
    "href": "HE04.html#raincloud-plot",
    "title": "Hands-on Exercise 4",
    "section": "",
    "text": "ggplot(exam, \n       aes(x = RACE, \n           y = ENGLISH)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA)\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam, \n       aes(x = RACE, \n           y = ENGLISH)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA) +\n  geom_boxplot(width = .20,\n               outlier.shape = NA)\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam, \n       aes(x = RACE, \n           y = ENGLISH)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA) +\n  geom_boxplot(width = .20,\n               outlier.shape = NA) +\n  stat_dots(side = \"left\", \n            justification = 1.2, \n            binwidth = .5,\n            dotsize = 2)\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam, \n       aes(x = RACE, \n           y = ENGLISH)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA) +\n  geom_boxplot(width = .20,\n               outlier.shape = NA) +\n  stat_dots(side = \"left\", \n            justification = 1.2, \n            binwidth = .5,\n            dotsize = 1.5) +\n  coord_flip() +\n  theme_economist()"
  },
  {
    "objectID": "HE04.html#getting-start-1",
    "href": "HE04.html#getting-start-1",
    "title": "Hands-on Exercise 4",
    "section": "4.2.1 Getting Start",
    "text": "4.2.1 Getting Start\n\npacman::p_load(ggstatsplot, tidyverse)"
  },
  {
    "objectID": "HE04.html#importing-data-1",
    "href": "HE04.html#importing-data-1",
    "title": "Hands-on Exercise 4",
    "section": "4.2.2 Importing Data",
    "text": "4.2.2 Importing Data\nSame as 4.1.2"
  },
  {
    "objectID": "HE04.html#analysis-ploting",
    "href": "HE04.html#analysis-ploting",
    "title": "Hands-on Exercise 4",
    "section": "4.2.3 Analysis Ploting",
    "text": "4.2.3 Analysis Ploting\n\n4.2.3(1)\n\nset.seed(1234)\n\ngghistostats(\n  data = exam,\n  x = ENGLISH,\n  type = \"bayes\",\n  test.value = 60,\n  xlab = \"English scores\"\n)\n\n\n\n\n\n\n\n\n\n\n4.2.3(2)\n\nggbetweenstats(\n  data = exam,\n  x = GENDER, \n  y = MATHS,\n  type = \"np\",\n  messages = FALSE\n)\n\n\n\n\n\n\n\n\n\n\n4.2.3(3)\n\nggbetweenstats(\n  data = exam,\n  x = RACE, \n  y = ENGLISH,\n  type = \"p\",\n  mean.ci = TRUE, \n  pairwise.comparisons = TRUE, \n  pairwise.display = \"s\",\n  p.adjust.method = \"fdr\",\n  messages = FALSE\n)\n\n\n\n\n\n\n\n\n\n\n4.2.3(4)\n\nggscatterstats(\n  data = exam,\n  x = MATHS,\n  y = ENGLISH,\n  marginal = FALSE,\n  )\n\n\n\n\n\n\n\n\n\n\n4.2.3(5)\n\nexam1 &lt;- exam %&gt;% \n  mutate(MATHS_bins = \n           cut(MATHS, \n               breaks = c(0,60,75,85,100))\n)\nggbarstats(exam1, \n           x = MATHS_bins, \n           y = GENDER)"
  },
  {
    "objectID": "HE04.html#getting-start-2",
    "href": "HE04.html#getting-start-2",
    "title": "Hands-on Exercise 4",
    "section": "4.3.1 Getting Start",
    "text": "4.3.1 Getting Start\n\npacman::p_load(scales, viridis, lubridate, ggthemes,\n               gridExtra, readxl, knitr, data.table,\n               CGPfunctions, ggHoriPlot, tidyverse, crosstalk,\n               plotly, ggforce)"
  },
  {
    "objectID": "HE04.html#importing-data-2",
    "href": "HE04.html#importing-data-2",
    "title": "Hands-on Exercise 4",
    "section": "4.3.2 Importing Data",
    "text": "4.3.2 Importing Data\nSame as 4.1.2 ## 4.3.3 ggplot2 method\n\nmy_sum &lt;- exam %&gt;%\n  group_by(RACE) %&gt;%\n  summarise(\n    n=n(),\n    mean=mean(MATHS),\n    sd=sd(MATHS)\n    ) %&gt;%\n  mutate(se=sd/sqrt(n-1))\nknitr::kable(head(my_sum), format = 'html')\n\n\n\n\nRACE\nn\nmean\nsd\nse\n\n\n\n\nChinese\n193\n76.50777\n15.69040\n1.132357\n\n\nIndian\n12\n60.66667\n23.35237\n7.041005\n\n\nMalay\n108\n57.44444\n21.13478\n2.043177\n\n\nOthers\n9\n69.66667\n10.72381\n3.791438\n\n\n\n\n\n\n4.3.3(1)\n\nggplot(my_sum) +\n  geom_errorbar(\n    aes(x=RACE, \n        ymin=mean-se, \n        ymax=mean+se), \n    width=0.2, \n    colour=\"black\", \n    alpha=0.9, \n    linewidth=0.5) +\n  geom_point(aes\n           (x=RACE, \n            y=mean), \n           stat=\"identity\", \n           color=\"red\",\n           size = 1.5,\n           alpha=1) +\n  ggtitle(\"Standard error of mean maths score by rac\")\n\n\n\n\n\n\n\n\n\n\n4.3.3(2)\n\nggplot(my_sum) +\n  geom_errorbar(\n    aes(x=reorder(RACE, -mean), \n        ymin=mean-1.96*se, \n        ymax=mean+1.96*se), \n    width=0.2, \n    colour=\"black\", \n    alpha=0.9, \n    linewidth=0.5) +\n  geom_point(aes\n           (x=RACE, \n            y=mean), \n           stat=\"identity\", \n           color=\"red\",\n           size = 1.5,\n           alpha=1) +\n  labs(x = \"Maths score\",\n       title = \"95% confidence interval of mean maths score by race\")\n\n\n\n\n\n\n\n\n\n\n4.3.3(3)\n\nmy_sum2 &lt;- my_sum %&gt;%\n  mutate(across(c(mean, sd, se), ~ round(.x, 2)))\n\nshared_df &lt;- SharedData$new(my_sum2, key = ~RACE)\n\n\nbscols(\n  widths = c(4, 8),\n\n  ggplotly(\n    ggplot(shared_df) +\n      geom_errorbar(\n        aes(\n          x = reorder(RACE, -mean),\n          ymin = mean - 2.58 * se,\n          ymax = mean + 2.58 * se\n        ),\n        width  = 0.2,\n        colour = \"black\",\n        alpha  = 0.9\n      ) +\n      geom_point(\n        aes(\n          x = RACE,\n          y = mean,\n          text = paste(\n            \"Race:\", RACE,\n            \"&lt;br&gt;N:\", n,\n            \"&lt;br&gt;Avg. Scores:\", mean,   # 这里已经 round 过了\n            \"&lt;br&gt;99% CI:[\",\n            round(mean - 2.58 * se, 2), \",\",\n            round(mean + 2.58 * se, 2), \"]\"\n          )\n        ),\n        color = \"red\",\n        size  = 1.5,\n        alpha = 1\n      ) +\n      xlab(\"Race\") +\n      ylab(\"Average Scores\") +\n      theme_minimal() +\n      theme(axis.text.x = element_text(angle = 45, vjust = 0.5, hjust = 1)) +\n      ggtitle(\"99% Confidence interval of average /&lt;br&gt;maths scores by race\"),\n    tooltip = \"text\"\n  ),\n\n  DT::datatable(\n    shared_df,\n    rownames = FALSE,\n    class = \"compact\",\n    width = \"100%\",\n    options = list(pageLength = 10, scrollX = TRUE),\n    colnames = c(\"Race\", \"No. of pupils\", \"Avg Scores\", \"Std Dev\", \"Std Error\")\n  )\n)"
  },
  {
    "objectID": "HE04.html#ggdist-package",
    "href": "HE04.html#ggdist-package",
    "title": "Hands-on Exercise 4",
    "section": "4.3.4 ggdist package",
    "text": "4.3.4 ggdist package\n\nexam %&gt;%\n  ggplot(aes(x = RACE, \n             y = MATHS)) +\n  stat_pointinterval() +\n  labs(\n    title = \"Visualising confidence intervals of mean math score\",\n    subtitle = \"Mean Point + Multiple-interval plot\")\n\n\n\n\n\n\n\nexam %&gt;%\n  ggplot(aes(x = RACE, y = MATHS)) +\n  stat_pointinterval(.width = 0.95,\n  .point = median,\n  .interval = qi) +\n  labs(\n    title = \"Visualising confidence intervals of median math score\",\n    subtitle = \"Median Point + Multiple-interval plot\")\n\n\n\n\n\n\n\n\n\n4.3.4(1)\n\nexam %&gt;%\n  ggplot(aes(x = RACE, \n             y = MATHS)) +\n  stat_pointinterval(\n    show.legend = FALSE) +   \n  labs(\n    title = \"Visualising confidence intervals of mean math score\",\n    subtitle = \"Mean Point + Multiple-interval plot\")\n\n\n\n\n\n\n\n\n\n\n4.3.4(2)\n\nexam %&gt;%\n  ggplot(aes(x = RACE, \n             y = MATHS)) +\n  stat_gradientinterval(   \n    fill = \"skyblue\",      \n    show.legend = TRUE     \n  ) +                        \n  labs(\n    title = \"Visualising confidence intervals of mean math score\",\n    subtitle = \"Gradient + interval plot\")"
  },
  {
    "objectID": "HE04.html#hypothetical-outcome-plots-hops",
    "href": "HE04.html#hypothetical-outcome-plots-hops",
    "title": "Hands-on Exercise 4",
    "section": "4.3.5 Hypothetical Outcome Plots (HOPs)",
    "text": "4.3.5 Hypothetical Outcome Plots (HOPs)\n\nlibrary(ggplot2)\nlibrary(ggforce)\nlibrary(gganimate)\nlibrary(ungeviz)\n\n\nggplot(data = exam, \n       (aes(x = factor(RACE), \n            y = MATHS))) +\n  geom_point(position = position_jitter(\n    height = 0.3, \n    width = 0.05), \n    size = 0.4, \n    color = \"#0072B2\", \n    alpha = 1/2) +\n  geom_hpline(data = sampler(25, \n                             group = RACE), \n              height = 0.6, \n              color = \"#D55E00\") +\n  theme_bw() + \n  transition_states(.draw, 1, 3)"
  },
  {
    "objectID": "HE04.html#getting-start-3",
    "href": "HE04.html#getting-start-3",
    "title": "Hands-on Exercise 4",
    "section": "4.4.1 Getting Start",
    "text": "4.4.1 Getting Start\n\npacman::p_load(tidyverse, FunnelPlotR, plotly, knitr)"
  },
  {
    "objectID": "HE04.html#importing-data-3",
    "href": "HE04.html#importing-data-3",
    "title": "Hands-on Exercise 4",
    "section": "4.4.2 Importing Data",
    "text": "4.4.2 Importing Data\n\ncovid19 &lt;- read_csv(\"C:/Users/jiayi/Documents/SMU/26 Jan Term/ISSS608_Visual_Analytics_and_Applications/ISSS608_Lwn0170/data/COVID-19_DKI_Jakarta.csv\")%&gt;%\n  mutate_if(is.character, as.factor)"
  },
  {
    "objectID": "HE04.html#funnelplotr-methods",
    "href": "HE04.html#funnelplotr-methods",
    "title": "Hands-on Exercise 4",
    "section": "4.4.3 FunnelPlotR methods",
    "text": "4.4.3 FunnelPlotR methods\n\n4.4.3(1)\n\nfunnel_plot(\n  .data = covid19,\n  numerator = Positive,\n  denominator = Death,\n  group = `Sub-district`\n)\n\n\n\n\n\n\n\n\nA funnel plot object with 267 points of which 0 are outliers. \nPlot is adjusted for overdispersion. \n\n\n\n\n4.4.3(2)\n\nfunnel_plot(\n  .data = covid19,\n  numerator = Death,\n  denominator = Positive,\n  group = `Sub-district`,\n  data_type = \"PR\",     #&lt;&lt;\n  xrange = c(0, 6500),  #&lt;&lt;\n  yrange = c(0, 0.05)   #&lt;&lt;\n)\n\n\n\n\n\n\n\n\nA funnel plot object with 267 points of which 7 are outliers. \nPlot is adjusted for overdispersion. \n\n\n\n\n4.4.3(3)\n\nfunnel_plot(\n  .data = covid19,\n  numerator = Death,\n  denominator = Positive,\n  group = `Sub-district`,\n  data_type = \"PR\",   \n  xrange = c(0, 6500),  \n  yrange = c(0, 0.05),\n  label = NA,\n  title = \"Cumulative COVID-19 Fatality Rate by Cumulative Total Number of COVID-19 Positive Cases\", #&lt;&lt;           \n  x_label = \"Cumulative COVID-19 Positive Cases\", #&lt;&lt;\n  y_label = \"Cumulative Fatality Rate\"  #&lt;&lt;\n)\n\n\n\n\n\n\n\n\nA funnel plot object with 267 points of which 7 are outliers. \nPlot is adjusted for overdispersion."
  },
  {
    "objectID": "HE04.html#gplot2-methods",
    "href": "HE04.html#gplot2-methods",
    "title": "Hands-on Exercise 4",
    "section": "4.4.4 gplot2 methods",
    "text": "4.4.4 gplot2 methods\n\ndf &lt;- covid19 %&gt;%\n  mutate(rate = Death / Positive) %&gt;%\n  mutate(rate.se = sqrt((rate*(1-rate)) / (Positive))) %&gt;%\n  filter(rate &gt; 0)\nfit.mean &lt;- weighted.mean(df$rate, 1/df$rate.se^2)\n\nnumber.seq &lt;- seq(1, max(df$Positive), 1)\nnumber.ll95 &lt;- fit.mean - 1.96 * sqrt((fit.mean*(1-fit.mean)) / (number.seq)) \nnumber.ul95 &lt;- fit.mean + 1.96 * sqrt((fit.mean*(1-fit.mean)) / (number.seq)) \nnumber.ll999 &lt;- fit.mean - 3.29 * sqrt((fit.mean*(1-fit.mean)) / (number.seq)) \nnumber.ul999 &lt;- fit.mean + 3.29 * sqrt((fit.mean*(1-fit.mean)) / (number.seq)) \ndfCI &lt;- data.frame(number.ll95, number.ul95, number.ll999, \n                   number.ul999, number.seq, fit.mean)\n\n\n4.4.4(1)\n\np &lt;- ggplot(df, aes(x = Positive, y = rate)) +\n  geom_point(aes(label=`Sub-district`), \n             alpha=0.4) +\n  geom_line(data = dfCI, \n            aes(x = number.seq, \n                y = number.ll95), \n            size = 0.4, \n            colour = \"grey40\", \n            linetype = \"dashed\") +\n  geom_line(data = dfCI, \n            aes(x = number.seq, \n                y = number.ul95), \n            size = 0.4, \n            colour = \"grey40\", \n            linetype = \"dashed\") +\n  geom_line(data = dfCI, \n            aes(x = number.seq, \n                y = number.ll999), \n            size = 0.4, \n            colour = \"grey40\") +\n  geom_line(data = dfCI, \n            aes(x = number.seq, \n                y = number.ul999), \n            size = 0.4, \n            colour = \"grey40\") +\n  geom_hline(data = dfCI, \n             aes(yintercept = fit.mean), \n             size = 0.4, \n             colour = \"grey40\") +\n  coord_cartesian(ylim=c(0,0.05)) +\n  annotate(\"text\", x = 1, y = -0.13, label = \"95%\", size = 3, colour = \"grey40\") + \n  annotate(\"text\", x = 4.5, y = -0.18, label = \"99%\", size = 3, colour = \"grey40\") + \n  ggtitle(\"Cumulative Fatality Rate by Cumulative Number of COVID-19 Cases\") +\n  xlab(\"Cumulative Number of COVID-19 Cases\") + \n  ylab(\"Cumulative Fatality Rate\") +\n  theme_light() +\n  theme(plot.title = element_text(size=12),\n        legend.position = c(0.91,0.85), \n        legend.title = element_text(size=7),\n        legend.text = element_text(size=7),\n        legend.background = element_rect(colour = \"grey60\", linetype = \"dotted\"),\n        legend.key.height = unit(0.3, \"cm\"))\np\n\n\n\n\n\n\n\n\n\n\n4.4.4(2)\n\nfp_ggplotly &lt;- ggplotly(p,\n  tooltip = c(\"label\", \n              \"x\", \n              \"y\"))\nfp_ggplotly"
  },
  {
    "objectID": "HE05.html",
    "href": "HE05.html",
    "title": "Hands-on Exercise 5",
    "section": "",
    "text": "This is Hands-on Exercise 5.1 about buildING ternary plot programmatically using R for visualising and analysing population structure of Singapore.\n\n\n\npacman::p_load(plotly, ggtern, tidyverse, crosstalk)\n\n\n\n\n\npop_data &lt;- read_csv(\"C:/Users/jiayi/Documents/SMU/26 Jan Term/ISSS608_Visual_Analytics_and_Applications/ISSS608_Lwn0170/data/respopagsex2000to2018_tidy.csv\") \n\n\n\n\n\nagpop_mutated &lt;- pop_data %&gt;%\n  mutate(`Year` = as.character(Year))%&gt;%\n  spread(AG, Population) %&gt;%\n  mutate(YOUNG = rowSums(.[4:8]))%&gt;%\n  mutate(ACTIVE = rowSums(.[9:16]))  %&gt;%\n  mutate(OLD = rowSums(.[17:21])) %&gt;%\n  mutate(TOTAL = rowSums(.[22:24])) %&gt;%\n  filter(Year == 2018)%&gt;%\n  filter(TOTAL &gt; 0)\n\n\n\n\n\nggtern(data=agpop_mutated,aes(x=YOUNG,y=ACTIVE, z=OLD)) +\n  geom_point()\n\n\n\n\n\n\n\nggtern(data=agpop_mutated, aes(x=YOUNG,y=ACTIVE, z=OLD)) +\n  geom_point() +\n  labs(title=\"Population structure, 2015\") +\n  theme_rgbw()\n\n\n\n\n\n\n\nlabel &lt;- function(txt) {\n  list(\n    text = txt, \n    x = 0.1, y = 1,\n    ax = 0, ay = 0,\n    xref = \"paper\", yref = \"paper\", \n    align = \"center\",\n    font = list(family = \"serif\", size = 15, color = \"white\"),\n    bgcolor = \"#b3b3b3\", bordercolor = \"black\", borderwidth = 2\n  )\n}\n\naxis &lt;- function(txt) {\n  list(\n    title = txt, tickformat = \".0%\", tickfont = list(size = 10)\n  )\n}\n\nternaryAxes &lt;- list(\n  aaxis = axis(\"Young\"), \n  baxis = axis(\"Active\"), \n  caxis = axis(\"Old\")\n)\n\nplot_ly(\n  agpop_mutated, \n  a = ~YOUNG, \n  b = ~ACTIVE, \n  c = ~OLD, \n  color = I(\"black\"), \n  type = \"scatterternary\"\n) %&gt;%\n  layout(\n    annotations = label(\"Ternary Markers\"), \n    ternary = ternaryAxes\n  )"
  },
  {
    "objectID": "HE05.html#getting-start",
    "href": "HE05.html#getting-start",
    "title": "Hands-on Exercise 5",
    "section": "",
    "text": "pacman::p_load(plotly, ggtern, tidyverse, crosstalk)"
  },
  {
    "objectID": "HE05.html#importing-data",
    "href": "HE05.html#importing-data",
    "title": "Hands-on Exercise 5",
    "section": "",
    "text": "pop_data &lt;- read_csv(\"C:/Users/jiayi/Documents/SMU/26 Jan Term/ISSS608_Visual_Analytics_and_Applications/ISSS608_Lwn0170/data/respopagsex2000to2018_tidy.csv\")"
  },
  {
    "objectID": "HE05.html#preparing-data",
    "href": "HE05.html#preparing-data",
    "title": "Hands-on Exercise 5",
    "section": "",
    "text": "agpop_mutated &lt;- pop_data %&gt;%\n  mutate(`Year` = as.character(Year))%&gt;%\n  spread(AG, Population) %&gt;%\n  mutate(YOUNG = rowSums(.[4:8]))%&gt;%\n  mutate(ACTIVE = rowSums(.[9:16]))  %&gt;%\n  mutate(OLD = rowSums(.[17:21])) %&gt;%\n  mutate(TOTAL = rowSums(.[22:24])) %&gt;%\n  filter(Year == 2018)%&gt;%\n  filter(TOTAL &gt; 0)"
  },
  {
    "objectID": "HE05.html#plotting-ternary-diagram-with-r",
    "href": "HE05.html#plotting-ternary-diagram-with-r",
    "title": "Hands-on Exercise 5",
    "section": "",
    "text": "ggtern(data=agpop_mutated,aes(x=YOUNG,y=ACTIVE, z=OLD)) +\n  geom_point()\n\n\n\n\n\n\n\nggtern(data=agpop_mutated, aes(x=YOUNG,y=ACTIVE, z=OLD)) +\n  geom_point() +\n  labs(title=\"Population structure, 2015\") +\n  theme_rgbw()\n\n\n\n\n\n\n\nlabel &lt;- function(txt) {\n  list(\n    text = txt, \n    x = 0.1, y = 1,\n    ax = 0, ay = 0,\n    xref = \"paper\", yref = \"paper\", \n    align = \"center\",\n    font = list(family = \"serif\", size = 15, color = \"white\"),\n    bgcolor = \"#b3b3b3\", bordercolor = \"black\", borderwidth = 2\n  )\n}\n\naxis &lt;- function(txt) {\n  list(\n    title = txt, tickformat = \".0%\", tickfont = list(size = 10)\n  )\n}\n\nternaryAxes &lt;- list(\n  aaxis = axis(\"Young\"), \n  baxis = axis(\"Active\"), \n  caxis = axis(\"Old\")\n)\n\nplot_ly(\n  agpop_mutated, \n  a = ~YOUNG, \n  b = ~ACTIVE, \n  c = ~OLD, \n  color = I(\"black\"), \n  type = \"scatterternary\"\n) %&gt;%\n  layout(\n    annotations = label(\"Ternary Markers\"), \n    ternary = ternaryAxes\n  )"
  },
  {
    "objectID": "HE05.html#getting-start-1",
    "href": "HE05.html#getting-start-1",
    "title": "Hands-on Exercise 5",
    "section": "5.2.1 Getting Start",
    "text": "5.2.1 Getting Start\n\npacman::p_load(corrplot, ggstatsplot, tidyverse)"
  },
  {
    "objectID": "HE05.html#importing-data-1",
    "href": "HE05.html#importing-data-1",
    "title": "Hands-on Exercise 5",
    "section": "5.2.2 Importing Data",
    "text": "5.2.2 Importing Data\n\nwine &lt;- read_csv(\"C:/Users/jiayi/Documents/SMU/26 Jan Term/ISSS608_Visual_Analytics_and_Applications/ISSS608_Lwn0170/data/wine_quality.csv\")"
  },
  {
    "objectID": "HE05.html#building-correlation-matrix-pairs-method",
    "href": "HE05.html#building-correlation-matrix-pairs-method",
    "title": "Hands-on Exercise 5",
    "section": "5.2.3 Building Correlation Matrix: pairs() method",
    "text": "5.2.3 Building Correlation Matrix: pairs() method\n\npairs(wine[,1:11])\n\n\n\n\n\n\n\npairs(wine[,2:12])\n\n\n\n\n\n\n\npairs(wine[,2:12], upper.panel = NULL)\n\n\n\n\n\n\n\npairs(wine[,2:12], lower.panel = NULL)\n\n\n\n\n\n\n\npanel.cor &lt;- function(x, y, digits=2, prefix=\"\", cex.cor, ...) {\nusr &lt;- par(\"usr\")\non.exit(par(usr = usr))\npar(usr = c(0, 1, 0, 1))\nr &lt;- abs(cor(x, y, use=\"complete.obs\"))\ntxt &lt;- format(c(r, 0.123456789), digits=digits)[1]\ntxt &lt;- paste(prefix, txt, sep=\"\")\nif(missing(cex.cor)) cex.cor &lt;- 0.8/strwidth(txt)\ntext(0.5, 0.5, txt, cex = cex.cor * (1 + r) / 2)\n}\n\npairs(wine[,2:12], \n      upper.panel = panel.cor)"
  },
  {
    "objectID": "HE05.html#visualising-correlation-matrix-ggcormat",
    "href": "HE05.html#visualising-correlation-matrix-ggcormat",
    "title": "Hands-on Exercise 5",
    "section": "5.2.4 Visualising Correlation Matrix: ggcormat()",
    "text": "5.2.4 Visualising Correlation Matrix: ggcormat()\n\nggstatsplot::ggcorrmat(\n  data = wine, \n  cor.vars = 1:11)\n\n\n\n\n\n\n\nggstatsplot::ggcorrmat(\n  data = wine, \n  cor.vars = 1:11,\n  ggcorrplot.args = list(outline.color = \"black\", \n                         hc.order = TRUE,\n                         tl.cex = 10),\n  title    = \"Correlogram for wine dataset\",\n  subtitle = \"Four pairs are no significant at p &lt; 0.05\"\n)\n\n\n\n\n\n\n\nggstatsplot::ggcorrmat(\n  data = wine, \n  cor.vars = 1:11,\n  ggcorrplot.args = list(outline.color = \"black\", \n                         hc.order = TRUE,\n                         tl.cex = 10),\n  title    = \"Correlogram for wine dataset\",\n  subtitle = \"Four pairs are no significant at p &lt; 0.05\"\n)"
  },
  {
    "objectID": "HE05.html#building-multiple-plots",
    "href": "HE05.html#building-multiple-plots",
    "title": "Hands-on Exercise 5",
    "section": "5.2.5 Building multiple plots",
    "text": "5.2.5 Building multiple plots\n\ngrouped_ggcorrmat(\n  data = wine,\n  cor.vars = 1:11,\n  grouping.var = type,\n  type = \"robust\",\n  p.adjust.method = \"holm\",\n  plotgrid.args = list(ncol = 2),\n  ggcorrplot.args = list(outline.color = \"black\", \n                         hc.order = TRUE,\n                         tl.cex = 10),\n  annotation.args = list(\n    tag_levels = \"a\",\n    title = \"Correlogram for wine dataset\",\n    subtitle = \"The measures are: alcohol, sulphates, fixed acidity, citric acid, chlorides, residual sugar, density, free sulfur dioxide and volatile acidity\",\n    caption = \"Dataset: UCI Machine Learning Repository\"\n  )\n)"
  },
  {
    "objectID": "HE05.html#visualising-correlation-matrix-using-corrplot-package",
    "href": "HE05.html#visualising-correlation-matrix-using-corrplot-package",
    "title": "Hands-on Exercise 5",
    "section": "5.2.6 Visualising Correlation Matrix using corrplot Package",
    "text": "5.2.6 Visualising Correlation Matrix using corrplot Package\n\nwine.cor &lt;- cor(wine[, 1:11])\n\ncorrplot(wine.cor)\n\n\n\n\n\n\n\ncorrplot(wine.cor, \n         method = \"ellipse\") \n\n\n\n\n\n\n\ncorrplot(wine.cor, \n         method = \"ellipse\", \n         type=\"lower\")\n\n\n\n\n\n\n\ncorrplot(wine.cor, \n         method = \"ellipse\", \n         type=\"lower\",\n         diag = FALSE,\n         tl.col = \"black\")\n\n\n\n\n\n\n\ncorrplot.mixed(wine.cor, \n               lower = \"ellipse\", \n               upper = \"number\",\n               tl.pos = \"lt\",\n               diag = \"l\",\n               tl.col = \"black\")\n\n\n\n\n\n\n\nwine.sig = cor.mtest(wine.cor, conf.level= .95)\ncorrplot(wine.cor,\n         method = \"number\",\n         type = \"lower\",\n         diag = FALSE,\n         tl.col = \"black\",\n         tl.srt = 45,\n         p.mat = wine.sig$p,\n         sig.level = .05)\n\n\n\n\n\n\n\ncorrplot.mixed(wine.cor, \n               lower = \"ellipse\", \n               upper = \"number\",\n               tl.pos = \"lt\",\n               diag = \"l\",\n               order=\"AOE\",\n               tl.col = \"black\")\n\n\n\n\n\n\n\ncorrplot(wine.cor, \n         method = \"ellipse\", \n         tl.pos = \"lt\",\n         tl.col = \"black\",\n         order=\"hclust\",\n         hclust.method = \"ward.D\",\n         addrect = 3)"
  },
  {
    "objectID": "HE05.html#getting-start-2",
    "href": "HE05.html#getting-start-2",
    "title": "Hands-on Exercise 5",
    "section": "5.3.1 Getting Start",
    "text": "5.3.1 Getting Start\n\npacman::p_load(seriation, dendextend, heatmaply, tidyverse)"
  },
  {
    "objectID": "HE05.html#importing-data-2",
    "href": "HE05.html#importing-data-2",
    "title": "Hands-on Exercise 5",
    "section": "5.3.2 Importing Data",
    "text": "5.3.2 Importing Data\n\nwh &lt;- read_csv(\"C:/Users/jiayi/Documents/SMU/26 Jan Term/ISSS608_Visual_Analytics_and_Applications/ISSS608_Lwn0170/data/WHData-2018.csv\")"
  },
  {
    "objectID": "HE05.html#preparing-data-1",
    "href": "HE05.html#preparing-data-1",
    "title": "Hands-on Exercise 5",
    "section": "5.3.3 Preparing Data",
    "text": "5.3.3 Preparing Data\n\nrow.names(wh) &lt;- wh$Country"
  },
  {
    "objectID": "HE05.html#transforming-the-data-frame-into-a-matrix",
    "href": "HE05.html#transforming-the-data-frame-into-a-matrix",
    "title": "Hands-on Exercise 5",
    "section": "5.3.4 Transforming the data frame into a matrix",
    "text": "5.3.4 Transforming the data frame into a matrix\n\nwh1 &lt;- dplyr::select(wh, c(3, 7:12))\nwh_matrix &lt;- data.matrix(wh)"
  },
  {
    "objectID": "HE05.html#static-heatmap",
    "href": "HE05.html#static-heatmap",
    "title": "Hands-on Exercise 5",
    "section": "5.3.5 Static Heatmap",
    "text": "5.3.5 Static Heatmap\n\nwh_heatmap &lt;- heatmap(wh_matrix)\n\n\n\n\n\n\n\nwh_heatmap &lt;- heatmap(wh_matrix,\n                      scale=\"column\",\n                      cexRow = 0.6, \n                      cexCol = 0.8,\n                      margins = c(10, 4))"
  },
  {
    "objectID": "HE05.html#creating-interactive-heatmap",
    "href": "HE05.html#creating-interactive-heatmap",
    "title": "Hands-on Exercise 5",
    "section": "5.3.6 Creating Interactive Heatmap",
    "text": "5.3.6 Creating Interactive Heatmap\n\nheatmaply(mtcars)\n\n\n\n\nheatmaply(wh_matrix[, -c(1, 2, 4, 5)])\n\n\n\n\nheatmaply(wh_matrix[, -c(1, 2, 4, 5)],\n          scale = \"column\")\n\n\n\n\nheatmaply(normalize(wh_matrix[, -c(1, 2, 4, 5)]))\n\n\n\n\nheatmaply(percentize(wh_matrix[, -c(1, 2, 4, 5)]))\n\n\n\n\nheatmaply(normalize(wh_matrix[, -c(1, 2, 4, 5)]),\n          dist_method = \"euclidean\",\n          hclust_method = \"ward.D\")\n\n\n\n\nwh_d &lt;- dist(normalize(wh_matrix[, -c(1, 2, 4, 5)]), method = \"euclidean\")\ndend_expend(wh_d)[[3]]\n\n  dist_methods hclust_methods     optim\n1      unknown         ward.D 0.6137851\n2      unknown        ward.D2 0.6289186\n3      unknown         single 0.4774362\n4      unknown       complete 0.6434009\n5      unknown        average 0.6701688\n6      unknown       mcquitty 0.5020102\n7      unknown         median 0.5901833\n8      unknown       centroid 0.6338734\n\nwh_clust &lt;- hclust(wh_d, method = \"average\")\nnum_k &lt;- find_k(wh_clust)\nplot(num_k)\n\n\n\n\n\n\n\nheatmaply(normalize(wh_matrix[, -c(1, 2, 4, 5)]),\n          dist_method = \"euclidean\",\n          hclust_method = \"average\",\n          k_row = 3)\n\n\n\n\nheatmaply(normalize(wh_matrix[, -c(1, 2, 4, 5)]),\n          seriate = \"OLO\")\n\n\n\n\nheatmaply(normalize(wh_matrix[, -c(1, 2, 4, 5)]),\n          seriate = \"GW\")\n\n\n\n\nheatmaply(normalize(wh_matrix[, -c(1, 2, 4, 5)]),\n          seriate = \"mean\")\n\n\n\n\nheatmaply(normalize(wh_matrix[, -c(1, 2, 4, 5)]),\n          seriate = \"none\")\n\n\n\n\nheatmaply(normalize(wh_matrix[, -c(1, 2, 4, 5)]),\n          seriate = \"none\",\n          colors = Blues)\n\n\n\n\nheatmaply(normalize(wh_matrix[, -c(1, 2, 4, 5)]),\n          Colv=NA,\n          seriate = \"none\",\n          colors = Blues,\n          k_row = 5,\n          margins = c(NA,200,60,NA),\n          fontsize_row = 4,\n          fontsize_col = 5,\n          main=\"World Happiness Score and Variables by Country, 2018 \\nDataTransformation using Normalise Method\",\n          xlab = \"World Happiness Indicators\",\n          ylab = \"World Countries\"\n          )"
  },
  {
    "objectID": "HE05.html#getting-start-3",
    "href": "HE05.html#getting-start-3",
    "title": "Hands-on Exercise 5",
    "section": "5.4.1 Getting Start",
    "text": "5.4.1 Getting Start\n\npacman::p_load(GGally, parallelPlot, tidyverse)"
  },
  {
    "objectID": "HE05.html#importing-data-3",
    "href": "HE05.html#importing-data-3",
    "title": "Hands-on Exercise 5",
    "section": "5.4.2 Importing Data",
    "text": "5.4.2 Importing Data\n\nwh &lt;- read_csv(\"C:/Users/jiayi/Documents/SMU/26 Jan Term/ISSS608_Visual_Analytics_and_Applications/ISSS608_Lwn0170/data/WHData-2018.csv\")"
  },
  {
    "objectID": "HE05.html#plotting-static-parallel-coordinates-plot",
    "href": "HE05.html#plotting-static-parallel-coordinates-plot",
    "title": "Hands-on Exercise 5",
    "section": "5.4.3 Plotting Static Parallel Coordinates Plot",
    "text": "5.4.3 Plotting Static Parallel Coordinates Plot\n\nggparcoord(data = wh, \n           columns = c(7:12))\n\n\n\n\n\n\n\nggparcoord(data = wh, \n           columns = c(7:12), \n           groupColumn = 2,\n           scale = \"uniminmax\",\n           alphaLines = 0.2,\n           boxplot = TRUE, \n           title = \"Parallel Coordinates Plot of World Happines Variables\")\n\n\n\n\n\n\n\nggparcoord(data = wh, \n           columns = c(7:12), \n           groupColumn = 2,\n           scale = \"uniminmax\",\n           alphaLines = 0.2,\n           boxplot = TRUE, \n           title = \"Multiple Parallel Coordinates Plots of World Happines Variables by Region\") +\n  facet_wrap(~ Region)\n\n\n\n\n\n\n\nggparcoord(data = wh, \n           columns = c(7:12), \n           groupColumn = 2,\n           scale = \"uniminmax\",\n           alphaLines = 0.2,\n           boxplot = TRUE, \n           title = \"Multiple Parallel Coordinates Plots of World Happines Variables by Region\") +\n  facet_wrap(~ Region) + \n  theme(axis.text.x = element_text(angle = 30, hjust=1))"
  },
  {
    "objectID": "HE05.html#plotting-interactive-parallel-coordinates-plot-parallelplot-methods",
    "href": "HE05.html#plotting-interactive-parallel-coordinates-plot-parallelplot-methods",
    "title": "Hands-on Exercise 5",
    "section": "5.4.4 Plotting Interactive Parallel Coordinates Plot: parallelPlot methods",
    "text": "5.4.4 Plotting Interactive Parallel Coordinates Plot: parallelPlot methods\n\nwh &lt;- wh %&gt;%\n  select(\"Happiness score\", c(7:12))\nparallelPlot(wh,\n             width = 320,\n             height = 250)\n\n\n\n\nparallelPlot(wh,\n             rotateTitle = TRUE)\n\n\n\n\nparallelPlot(wh,\n             continuousCS = \"YlOrRd\",\n             rotateTitle = TRUE)\n\n\n\n\nhistoVisibility &lt;- rep(TRUE, ncol(wh))\nparallelPlot(wh,\n             rotateTitle = TRUE,\n             histoVisibility = histoVisibility)"
  },
  {
    "objectID": "HE05.html#getting-start-4",
    "href": "HE05.html#getting-start-4",
    "title": "Hands-on Exercise 5",
    "section": "5.5.1 Getting Start",
    "text": "5.5.1 Getting Start\n\npacman::p_load(treemap, treemapify, tidyverse, devtools, d3treeR)"
  },
  {
    "objectID": "HE05.html#importing-data-4",
    "href": "HE05.html#importing-data-4",
    "title": "Hands-on Exercise 5",
    "section": "5.5.2 Importing Data",
    "text": "5.5.2 Importing Data\n\nrealis2018 &lt;- read_csv(\"C:/Users/jiayi/Documents/SMU/26 Jan Term/ISSS608_Visual_Analytics_and_Applications/ISSS608_Lwn0170/data/realis2018.csv\")"
  },
  {
    "objectID": "HE05.html#data-wrangling-and-manipulation",
    "href": "HE05.html#data-wrangling-and-manipulation",
    "title": "Hands-on Exercise 5",
    "section": "5.5.3 Data Wrangling and Manipulation",
    "text": "5.5.3 Data Wrangling and Manipulation\n\nrealis2018_grouped &lt;- group_by(realis2018, `Project Name`,\n                               `Planning Region`, `Planning Area`, \n                               `Property Type`, `Type of Sale`)\nrealis2018_summarised &lt;- summarise(realis2018_grouped, \n                          `Total Unit Sold` = sum(`No. of Units`, na.rm = TRUE),\n                          `Total Area` = sum(`Area (sqm)`, na.rm = TRUE),\n                          `Median Unit Price ($ psm)` = median(`Unit Price ($ psm)`, na.rm = TRUE), \n                          `Median Transacted Price` = median(`Transacted Price ($)`, na.rm = TRUE))\n\nrealis2018_summarised &lt;- realis2018 %&gt;% \n  group_by(`Project Name`,`Planning Region`, \n           `Planning Area`, `Property Type`, \n           `Type of Sale`) %&gt;%\n  summarise(`Total Unit Sold` = sum(`No. of Units`, na.rm = TRUE), \n            `Total Area` = sum(`Area (sqm)`, na.rm = TRUE),\n            `Median Unit Price ($ psm)` = median(`Unit Price ($ psm)`, na.rm = TRUE),\n            `Median Transacted Price` = median(`Transacted Price ($)`, na.rm = TRUE))"
  },
  {
    "objectID": "HE05.html#designing-treemap-with-treemap-package",
    "href": "HE05.html#designing-treemap-with-treemap-package",
    "title": "Hands-on Exercise 5",
    "section": "5.5.4 Designing Treemap with treemap Package",
    "text": "5.5.4 Designing Treemap with treemap Package\n\nrealis2018_selected &lt;- realis2018_summarised %&gt;%\n  filter(`Property Type` == \"Condominium\", `Type of Sale` == \"Resale\")\n\ntreemap(realis2018_selected,\n        index=c(\"Planning Region\", \"Planning Area\", \"Project Name\"),\n        vSize=\"Total Unit Sold\",\n        vColor=\"Median Unit Price ($ psm)\",\n        title=\"Resale Condominium by Planning Region and Area, 2017\",\n        title.legend = \"Median Unit Price (S$ per sq. m)\"\n        )\n\n\n\n\n\n\n\ntreemap(realis2018_selected,\n        index=c(\"Planning Region\", \"Planning Area\", \"Project Name\"),\n        vSize=\"Total Unit Sold\",\n        vColor=\"Median Unit Price ($ psm)\",\n        type = \"value\",\n        title=\"Resale Condominium by Planning Region and Area, 2017\",\n        title.legend = \"Median Unit Price (S$ per sq. m)\"\n        )\n\n\n\n\n\n\n\ntreemap(realis2018_selected,\n        index=c(\"Planning Region\", \"Planning Area\", \"Project Name\"),\n        vSize=\"Total Unit Sold\",\n        vColor=\"Median Unit Price ($ psm)\",\n        type=\"value\",\n        palette=\"RdYlBu\", \n        title=\"Resale Condominium by Planning Region and Area, 2017\",\n        title.legend = \"Median Unit Price (S$ per sq. m)\"\n        )\n\n\n\n\n\n\n\ntreemap(realis2018_selected,\n        index=c(\"Planning Region\", \"Planning Area\", \"Project Name\"),\n        vSize=\"Total Unit Sold\",\n        vColor=\"Median Unit Price ($ psm)\",\n        type=\"manual\",\n        palette=\"RdYlBu\", \n        title=\"Resale Condominium by Planning Region and Area, 2017\",\n        title.legend = \"Median Unit Price (S$ per sq. m)\"\n        )\n\n\n\n\n\n\n\ntreemap(realis2018_selected,\n        index=c(\"Planning Region\", \"Planning Area\", \"Project Name\"),\n        vSize=\"Total Unit Sold\",\n        vColor=\"Median Unit Price ($ psm)\",\n        type=\"manual\",\n        palette=\"Blues\", \n        title=\"Resale Condominium by Planning Region and Area, 2017\",\n        title.legend = \"Median Unit Price (S$ per sq. m)\"\n        )"
  },
  {
    "objectID": "HE05.html#treemap-layout",
    "href": "HE05.html#treemap-layout",
    "title": "Hands-on Exercise 5",
    "section": "5.5.5 Treemap Layout",
    "text": "5.5.5 Treemap Layout\n\ntreemap(realis2018_selected,\n        index=c(\"Planning Region\", \"Planning Area\", \"Project Name\"),\n        vSize=\"Total Unit Sold\",\n        vColor=\"Median Unit Price ($ psm)\",\n        type=\"manual\",\n        palette=\"Blues\", \n        algorithm = \"squarified\",\n        title=\"Resale Condominium by Planning Region and Area, 2017\",\n        title.legend = \"Median Unit Price (S$ per sq. m)\"\n        )\n\n\n\n\n\n\n\ntreemap(realis2018_selected,\n        index=c(\"Planning Region\", \"Planning Area\", \"Project Name\"),\n        vSize=\"Total Unit Sold\",\n        vColor=\"Median Unit Price ($ psm)\",\n        type=\"manual\",\n        palette=\"Blues\", \n        algorithm = \"pivotSize\",\n        sortID = \"Median Transacted Price\",\n        title=\"Resale Condominium by Planning Region and Area, 2017\",\n        title.legend = \"Median Unit Price (S$ per sq. m)\"\n        )"
  },
  {
    "objectID": "HE05.html#designing-treemap-using-treemapify-package",
    "href": "HE05.html#designing-treemap-using-treemapify-package",
    "title": "Hands-on Exercise 5",
    "section": "5.5.6 Designing Treemap using treemapify Package",
    "text": "5.5.6 Designing Treemap using treemapify Package\n\nggplot(data=realis2018_selected, \n       aes(area = `Total Unit Sold`,\n           fill = `Median Unit Price ($ psm)`),\n       layout = \"scol\",\n       start = \"bottomleft\") + \n  geom_treemap() +\n  scale_fill_gradient(low = \"light blue\", high = \"blue\")\n\n\n\n\n\n\n\nggplot(data=realis2018_selected, \n       aes(area = `Total Unit Sold`,\n           fill = `Median Unit Price ($ psm)`,\n           subgroup = `Planning Region`),\n       start = \"topleft\") + \n  geom_treemap()\n\n\n\n\n\n\n\nggplot(data=realis2018_selected, \n       aes(area = `Total Unit Sold`,\n           fill = `Median Unit Price ($ psm)`,\n           subgroup = `Planning Region`,\n           subgroup2 = `Planning Area`)) + \n  geom_treemap()\n\n\n\n\n\n\n\nggplot(data=realis2018_selected, \n       aes(area = `Total Unit Sold`,\n           fill = `Median Unit Price ($ psm)`,\n           subgroup = `Planning Region`,\n           subgroup2 = `Planning Area`)) + \n  geom_treemap() +\n  geom_treemap_subgroup2_border(colour = \"gray40\",\n                                size = 2) +\n  geom_treemap_subgroup_border(colour = \"gray20\")"
  },
  {
    "objectID": "HE05.html#designing-interactive-treemap-using-d3treer",
    "href": "HE05.html#designing-interactive-treemap-using-d3treer",
    "title": "Hands-on Exercise 5",
    "section": "5.5.7 Designing Interactive Treemap using d3treeR",
    "text": "5.5.7 Designing Interactive Treemap using d3treeR\n\ntm &lt;- treemap(realis2018_summarised,\n        index=c(\"Planning Region\", \"Planning Area\"),\n        vSize=\"Total Unit Sold\",\n        vColor=\"Median Unit Price ($ psm)\",\n        type=\"value\",\n        title=\"Private Residential Property Sold, 2017\",\n        title.legend = \"Median Unit Price (S$ per sq. m)\"\n        )\n\nd3tree(tm,rootname = \"Singapore\" )"
  },
  {
    "objectID": "TE01.html",
    "href": "TE01.html",
    "title": "Take-home Exercise 1",
    "section": "",
    "text": "A survey aimed to manage students and factors affecting their learning outcomes was conducted in Vietnam National University (VNU). The survey is faced to both current student and alumni in VNU from March to June 2023, and there were 2170 valid feedback.\nThis visual analysis will transform the survey data into student learning outcome insights by identifying patterns, trends, and relationships within responses."
  },
  {
    "objectID": "TE01.html#importing-data",
    "href": "TE01.html#importing-data",
    "title": "Take-home Exercise 1",
    "section": "Importing Data",
    "text": "Importing Data\n\nraw &lt;- read_excel(\"C:/Users/jiayi/Documents/SMU/26 Jan Term/ISSS608_Visual_Analytics_and_Applications/ISSS608_Lwn0170/data/TE01_data.xlsx\", sheet = 1)"
  },
  {
    "objectID": "TE01.html#transformation",
    "href": "TE01.html#transformation",
    "title": "Take-home Exercise 1",
    "section": "Transformation",
    "text": "Transformation\nThe survey data were initially encoded numerically,where discrete integers represent categorical responses (e.g., 1 = “Male”, 2 = “Female”). Based on the CODEBOOK, these variables were transformed into factors for nominal categories and ordered factors for ordinal scales.\nIn this case, the dataset preserves the measurement level of each variable, enforces a meaningful ordering for ordinal responses, and also generates correctly ordered axes with interpretable labels in visual analysis later.\n\nsurvey &lt;- raw %&gt;%\n  mutate(\n    Year = factor(\n      Year, levels = 1:5,\n      labels = c(\"First-year\", \"Second-year\", \"Third-year\", \"Fourth-year\", \"Graduated\"),\n      ordered = TRUE\n    ),\n    \n    Gender = factor(Gender, levels = c(1,2), labels = c(\"Male\", \"Female\")),\n    \n    Policy_Stu   = factor(Policy_Stu,   levels = c(1,2), labels = c(\"Yes\",\"No\")),\n    Minority_Stu = factor(Minority_Stu, levels = c(1,2), labels = c(\"Yes\",\"No\")),\n    Poor_Stu     = factor(Poor_Stu,     levels = c(1,2), labels = c(\"Yes\",\"No\")),\n    \n    Father_Edu = factor(\n      Father_Edu, levels = 1:6,\n      labels = c(\"Primary school\", \"Secondary school\", \"High school\", \"College school\", \"University/graduate education\", \"Other\"),\n      ordered = TRUE\n    ),\n    Mother_Edu = factor(\n      Mother_Edu, levels = 1:6,\n      labels = c(\"Primary school\", \"Secondary school\", \"High school\", \"College school\", \"University/graduate education\", \"Other\"),\n      ordered = TRUE\n    ),\n    \n    Father_Occupation = factor(\n      Father_Occupation, levels = 1:5,\n      labels = c(\"Government employee\", \"Self-employment\", \"Freelance\", \"Other\", \"Not public\")\n    ),\n    Mother_Occupation = factor(\n      Mother_Occupation, levels = 1:5,\n      labels = c(\"Government employee\", \"Self-employment\", \"Freelance\", \"Other\", \"Not public\")\n    ),\n    \n    Time_Friends = factor(\n      Time_Friends, levels = 1:5,\n      labels = c(\"under 1 hour\", \"1 to &lt;2 hours\", \"2 to &lt;3 hours\", \"3 to &lt;4 hours\", \"over 4 hours\"),\n      ordered = TRUE\n    ),\n    Time_SocicalMedia = factor(\n      Time_SocicalMedia, levels = 1:5,\n      labels = c(\"under 1 hour\", \"1 to &lt;2 hours\", \"2 to &lt;3 hours\", \"3 to &lt;4 hours\", \"over 4 hours\"),\n      ordered = TRUE\n    ),\n    Time_Studying = factor(\n      Time_Studying, levels = 1:5,\n      labels = c(\"under 2 hours\", \"2 to &lt;4 hours\", \"4 to &lt;6 hours\", \"6 to &lt;8 hours\", \"over 8 hour\"),\n      ordered = TRUE\n    ),\n    \n    GPA = factor(\n      GPA, levels = 1:5,\n      labels = c(\"Poor\", \"Average\", \"Fair\", \"Good\", \"Excellent\"),\n      ordered = TRUE\n    ),\n    \n    Adapt_Learning_Uni = factor(\n      Adapt_Learning_Uni, levels = 1:5,\n      labels = c(\"Not at all\", \"Little\", \"Moderate\", \"Quite\", \"Very\"),\n      ordered = TRUE\n    ),\n    Study_Methods = factor(\n      Study_Methods, levels = 1:5,\n      labels = c(\"Not at all\", \"Little\", \"Moderate\", \"Quite\", \"Very\"),\n      ordered = TRUE\n    ),\n    SupportOf_Uni = factor(\n      SupportOf_Uni, levels = 1:5,\n      labels = c(\"Not at all\", \"Little\", \"Moderate\", \"Quite\", \"Very\"),\n      ordered = TRUE\n    ),\n    SupportOf_Lec = factor(\n      SupportOf_Lec, levels = 1:5,\n      labels = c(\"Not at all\", \"Little\", \"Moderate\", \"Quite\", \"Very\"),\n      ordered = TRUE\n    ),\n    Facilitie_Uni = factor(\n      Facilitie_Uni, levels = 1:5,\n      labels = c(\"Not at all\", \"Little\", \"Moderate\", \"Quite\", \"Very\"),\n      ordered = TRUE\n    ),\n    Quality_Lecturer = factor(\n      Quality_Lecturer, levels = 1:5,\n      labels = c(\"Not at all\", \"Little\", \"Moderate\", \"Quite\", \"Very\"),\n      ordered = TRUE\n    ),\n    TrainingCurriculum = factor(\n      TrainingCurriculum, levels = 1:5,\n      labels = c(\"Not at all\", \"Little\", \"Moderate\", \"Quite\", \"Very\"),\n      ordered = TRUE\n    ),\n    Competitive_Class = factor(\n      Competitive_Class, levels = 1:5,\n      labels = c(\"Not at all\", \"Little\", \"Moderate\", \"Quite\", \"Very\"),\n      ordered = TRUE\n    ),\n    InfuenceF_Friends = factor(\n      InfuenceF_Friends, levels = 1:5,\n      labels = c(\"Not at all\", \"Little\", \"Moderate\", \"Quite\", \"Very\"),\n      ordered = TRUE)\n  )"
  },
  {
    "objectID": "TE01.html#data-screening",
    "href": "TE01.html#data-screening",
    "title": "Take-home Exercise 1",
    "section": "Data Screening",
    "text": "Data Screening\nFollowing the conceptual framework of the original survey study, all explanatory variables were grouped into two categories: (A) demographic factors, and (B) motivation and external learning factors. GPA is treated separately as the outcome variable, representing student learning performance.\nBefore visualising the survey results, table() was used to inspect the frequency distribution of each categorical variable (including missing values).\nThis quick check confirms whether coded responses follow the CODEBOOK, reveals empty categories or imbalanced groups, and helps identify potential data issues (e.g., unexpected codes) that could affect interpretation.\n\n#Demographic Factors#\nA_vars &lt;- c(\n  \"Year\", \"Gender\", \"Policy_Stu\", \"Minority_Stu\", \"Poor_Stu\", \"Father_Edu\", \"Mother_Edu\", \"Father_Occupation\", \"Mother_Occupation\", \"Time_Friends\", \"Time_SocicalMedia\", \"Time_Studying\"\n  )\n\n#Motivation/External Factors#\nB_vars &lt;- c(\n  \"Adapt_Learning_Uni\", \"Study_Methods\", \"SupportOf_Uni\", \"SupportOf_Lec\", \"Facilitie_Uni\", \"Quality_Lecturer\", \"TrainingCurriculum\", \"Competitive_Class\", \"InfuenceF_Friends\"\n  )\n\n#Outcome\noutcome_var &lt;- \"GPA\"\n\n\nGroup A: Demographic FactorsGroup B: Motivation/External FactorsOutcome: GPA\n\n\n\n\n\n============================\nVariable: Year \n============================\n\n First-year Second-year  Third-year Fourth-year   Graduated \n          0           0         135         441        1594 \n\n============================\nVariable: Gender \n============================\n\n  Male Female \n   240   1930 \n\n============================\nVariable: Policy_Stu \n============================\n\n Yes   No \n 766 1404 \n\n============================\nVariable: Minority_Stu \n============================\n\n Yes   No \n 129 2041 \n\n============================\nVariable: Poor_Stu \n============================\n\n Yes   No \n  86 2084 \n\n============================\nVariable: Father_Edu \n============================\n\n               Primary school              Secondary school \n                          120                           274 \n                  High school                College school \n                          603                           370 \nUniversity/graduate education                         Other \n                          643                           160 \n\n============================\nVariable: Mother_Edu \n============================\n\n               Primary school              Secondary school \n                          125                           294 \n                  High school                College school \n                          592                           495 \nUniversity/graduate education                         Other \n                          502                           162 \n\n============================\nVariable: Father_Occupation \n============================\n\nGovernment employee     Self-employment           Freelance               Other \n                514                 565                 650                 409 \n         Not public \n                 32 \n\n============================\nVariable: Mother_Occupation \n============================\n\nGovernment employee     Self-employment           Freelance               Other \n                491                 557                 695                 405 \n         Not public \n                 22 \n\n============================\nVariable: Time_Friends \n============================\n\n under 1 hour 1 to &lt;2 hours 2 to &lt;3 hours 3 to &lt;4 hours  over 4 hours \n          557           785           590           152            86 \n\n============================\nVariable: Time_SocicalMedia \n============================\n\n under 1 hour 1 to &lt;2 hours 2 to &lt;3 hours 3 to &lt;4 hours  over 4 hours \n          229           735           634           306           266 \n\n============================\nVariable: Time_Studying \n============================\n\nunder 2 hours 2 to &lt;4 hours 4 to &lt;6 hours 6 to &lt;8 hours   over 8 hour \n           17            47            78           245          1783 \n\n\n\n\n\n\n\n============================\nVariable: Adapt_Learning_Uni \n============================\n\nNot at all     Little   Moderate      Quite       Very \n        70        152        954        606        388 \n\n============================\nVariable: Study_Methods \n============================\n\nNot at all     Little   Moderate      Quite       Very \n        33        120        869        674        474 \n\n============================\nVariable: SupportOf_Uni \n============================\n\nNot at all     Little   Moderate      Quite       Very \n        51         61        553        675        830 \n\n============================\nVariable: SupportOf_Lec \n============================\n\nNot at all     Little   Moderate      Quite       Very \n        20         28        448        706        968 \n\n============================\nVariable: Facilitie_Uni \n============================\n\nNot at all     Little   Moderate      Quite       Very \n        36        131        399        677        927 \n\n============================\nVariable: Quality_Lecturer \n============================\n\nNot at all     Little   Moderate      Quite       Very \n        16         24        342        636       1152 \n\n============================\nVariable: TrainingCurriculum \n============================\n\nNot at all     Little   Moderate      Quite       Very \n        12         45        465        779        869 \n\n============================\nVariable: Competitive_Class \n============================\n\nNot at all     Little   Moderate      Quite       Very \n        13         76        629        772        680 \n\n============================\nVariable: InfuenceF_Friends \n============================\n\nNot at all     Little   Moderate      Quite       Very \n        20         82        707        797        564 \n\n\n\n\n\n\n\n============================\nVariable: GPA \n============================\n\n     Poor   Average      Fair      Good Excellent \n       73       109      1189       692       107 \n\n\n\n\n\nThe result shows an imbalanced distribution in study year and gender. There were no first- or second-year respondents in the survey responses, and female students substantially outnumbered male students.\nTo improve interpretability and avoid misleading comparisons driven by sparse categories, the study-year variable was recoded into two groups: “current students (3rd/4th year)” and “graduated.” Gender was retained but interpreted with caution due to the uneven group sizes.\n\nsurvey_final &lt;- survey %&gt;%\n  mutate(\n    Year_group = case_when(\n      Year %in% c(\"Third-year\", \"Fourth-year\") ~ \"Current (3rd/4th)\",\n      Year == \"Graduated\" ~ \"Graduated\",\n      TRUE ~ NA_character_\n    ) %&gt;%\n      factor(levels = c(\"Current (3rd/4th)\", \"Graduated\"))\n  )\n\ntable(survey_final$Year_group, useNA = \"ifany\")\n\n\nCurrent (3rd/4th)         Graduated \n              576              1594"
  },
  {
    "objectID": "TE01.html#distribution-of-students-learning-performance-gpa",
    "href": "TE01.html#distribution-of-students-learning-performance-gpa",
    "title": "Take-home Exercise 1",
    "section": "Distribution of Students’ Learning Performance (GPA)",
    "text": "Distribution of Students’ Learning Performance (GPA)\nGPA is measured as an ordered categorical variable rather than a continuous numeric measure, a bar chart is more appropriate for visualizing its frequency distributions and allows clearer comparison across GPA groups.\n\ngpa_dist &lt;- count(survey_final, GPA)\n\nggplot(gpa_dist, aes(x = GPA, y = n)) +\n  geom_col() +\n  geom_text(aes(label = n), hjust = -0.1) +\n  coord_flip() +\n  labs(\n    title = \"Distribution of GPA\",\n    x = \"GPA category\",\n    y = \"Number of students\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\nThe distribution of GPA shows a clear concentration in the middle categories. The majority of respondents fall into the “Fair” (n = 1189) and “Good” (n = 692) categories, while relatively few students are located at the extremes.\nThis indicates that learning performance in the survey is clustered around moderate achievement levels rather than polarized at either the high or low end.\nThis pattern suggests that explanatory factors are more likely to manifest as subtle distributional shifts rather than dramatic polarization effects. Thus, for subsequent analyses, we will focus on examining proportional differences across GPA levels rather than assuming large structural divides."
  },
  {
    "objectID": "TE01.html#relationship-between-learning-outcome-and-group-a-demographic-factors",
    "href": "TE01.html#relationship-between-learning-outcome-and-group-a-demographic-factors",
    "title": "Take-home Exercise 1",
    "section": "Relationship between Learning Outcome and Group A: Demographic Factors",
    "text": "Relationship between Learning Outcome and Group A: Demographic Factors\nTo improve interpretability, Group A variables are separated into two sets based on their measurement structure.\nThe first set contains binary variables only, which are well-suited for 100% stacked bar charts because the proportional composition remains easy to compare across GPA categories.\nThe second set contains multi-level ordinal or categorical variables. For these variables, stacked bars become visually cluttered due to many categories and colors. Therefore, heatmap is used to highlight distributional shifts across GPA levels more clearly while reducing unnecessary visual noise.\nLast but not least, percentages rather than count nnumber will be used due to the data sizes differ between groups and GPA levels.\n\nProportional Composition of Binary Group A Variables by GPA\nBinary Group A variables (2 levels):\n\nYear_group\nGender\nPolicy_Stu\nMinority_Stu\nPoor_Stu\n\n\nn_by_gpa &lt;- dplyr::count(survey_final, GPA, name = \"n\")\n\n\np_year &lt;- ggplot(survey_final, aes(x = GPA, fill = Year_group)) +\n  geom_bar(position = \"fill\") +\n  geom_text(data = n_by_gpa,\n            aes(x = GPA, y = 1.08, label = paste0(\"n=\", n)),\n            inherit.aes = FALSE, size = 2.5) +\n  scale_y_continuous(labels = percent) +\n  scale_x_discrete(labels = function(x) stringr::str_wrap(x, width = 12)) +\n  scale_fill_viridis_d(option = \"C\", begin = 0.1, end = 0.9, name = \"Year_group\") +\n  theme(axis.text.x = element_text(angle = 30, hjust = 1)) +\n  labs(y = \"Proportion\", title = \"Year_group\")\n\np_gender &lt;- ggplot(survey_final, aes(x = GPA, fill = Gender)) +\n  geom_bar(position = \"fill\") +\n  geom_text(data = n_by_gpa,\n            aes(x = GPA, y = 1.08, label = paste0(\"n=\", n)),\n            inherit.aes = FALSE, size = 2.5) +\n  scale_y_continuous(labels = percent) +\n  scale_x_discrete(labels = function(x) stringr::str_wrap(x, width = 12)) +\n  scale_fill_viridis_d(option = \"C\", begin = 0.1, end = 0.9, name = \"Gender\") +\n  theme(axis.text.x = element_text(angle = 30, hjust = 1)) +\n  labs(y = \"Proportion\", title = \"Gender\")\n\np_policy &lt;- ggplot(survey_final, aes(x = GPA, fill = Policy_Stu)) +\n  geom_bar(position = \"fill\") +\n  geom_text(data = n_by_gpa,\n            aes(x = GPA, y = 1.08, label = paste0(\"n=\", n)),\n            inherit.aes = FALSE, size = 2.5) +\n  scale_y_continuous(labels = percent) +\n  scale_x_discrete(labels = function(x) stringr::str_wrap(x, width = 12)) +\n  scale_fill_viridis_d(option = \"C\", begin = 0.1, end = 0.9, name = \"Policy_Stu\") +\n  theme(axis.text.x = element_text(angle = 30, hjust = 1)) +\n  labs(y = \"Proportion\", title = \"Policy_Stu\")\n\np_minority &lt;- ggplot(survey_final, aes(x = GPA, fill = Minority_Stu)) +\n  geom_bar(position = \"fill\") +\n  geom_text(data = n_by_gpa,\n            aes(x = GPA, y = 1.08, label = paste0(\"n=\", n)),\n            inherit.aes = FALSE, size = 2.5) +\n  scale_y_continuous(labels = percent) +\n  scale_x_discrete(labels = function(x) stringr::str_wrap(x, width = 12)) +\n  scale_fill_viridis_d(option = \"C\", begin = 0.1, end = 0.9, name = \"Minority_Stu\") +\n  theme(axis.text.x = element_text(angle = 30, hjust = 1)) +\n  labs(y = \"Proportion\", title = \"Minority_Stu\")\n\np_poor &lt;- ggplot(survey_final, aes(x = GPA, fill = Poor_Stu)) +\n  geom_bar(position = \"fill\") +\n  geom_text(data = n_by_gpa,\n            aes(x = GPA, y = 1.08, label = paste0(\"n=\", n)),\n            inherit.aes = FALSE, size = 2.5) +\n  scale_y_continuous(labels = percent) +\n  scale_x_discrete(labels = function(x) stringr::str_wrap(x, width = 12)) +\n  scale_fill_viridis_d(option = \"C\", begin = 0.1, end = 0.9, name = \"Poor_Stu\") +\n  theme(axis.text.x = element_text(angle = 30, hjust = 1)) +\n  labs(y = \"Proportion\", title = \"Poor_Stu\")\n\nplot_grid(p_year, p_gender, p_policy, p_minority, p_poor, ncol = 2)\n\n\n\n\n\n\n\n\nAs shown in the figure, the binary background indicators exhibit largely stable proportional patterns across GPA categories. While minor distributional shifts are observable for year of study and policy support, no pronounced polarization is evident. Overall, the visual evidence suggests limited differentiation in GPA by these binary background factors.\nTherefore, we next examine multi-level socioeconomic and time-use factors using heatmap to detect finer distributional shifts.\n\n\nPatterns of Ordinal Background and Behavioral Variables Across GPA Categories\nMulti-level Group A variables (ordinal / categorical):\n\nFather_Edu\nMother_Edu\nFather_Occupation\nMother_Occupation\nTime_Friends\nTime_SocicalMedia\nTime_Studying\n\n\nplot_heatmap &lt;- function(df, var, x = \"GPA\"){\n  heat_df &lt;- df %&gt;%\n    count(.data[[x]], .data[[var]], name = \"n\") %&gt;%\n    group_by(.data[[x]]) %&gt;%\n    mutate(p = n / sum(n)) %&gt;%\n    ungroup() %&gt;%\n    rename(X = 1, Level = 2)\n  ggplot(heat_df, aes(x = X, y = Level, fill = p)) +\n    geom_tile(color = \"white\", linewidth = 0.3) +\n    scale_x_discrete(labels = function(x) stringr::str_wrap(x, width = 12)) +\n    scale_fill_viridis_c(option = \"C\", begin = 0.1, end = 0.9, direction = -1, name = \"Proportion\") +\n    theme(axis.text.x = element_text(size = 8)) +\n    labs(title = var, x = NULL, y = NULL, fill = \"Proportion\") +\n    theme_minimal() +\n    theme(\n      axis.text.x = element_text(angle = 30, hjust = 1, size = 8),\n      plot.title = element_text(face = \"bold\", size = 10)\n    )\n}\n\nmulti_vars &lt;- c(\n  \"Father_Edu\", \"Mother_Edu\",\n  \"Father_Occupation\", \"Mother_Occupation\"\n)\n\nplots &lt;- lapply(multi_vars, function(v) plot_heatmap(survey_final, v))\n\nplot_grid(plotlist = plots, ncol = 2, align = \"hv\")\n\n\n\n\n\n\n\n\nAs shown in the heatmaps, the multi-category family background variables (parents’ education and occupation) display broadly stable composition across GPA categories. While localized shifts appear in specific cells, no clear monotonic gradient is visible in which higher parental education or a particular occupation type becomes progressively more dominant as GPA increases. Instead, most categories are represented across multiple GPA levels, suggesting that these socioeconomic indicators alone do not strongly separate learning outcomes.\nTherefore, we next examine students’ time-use and learning environment factors using heatmaps to identify finer distributional shifts that may be less apparent in binary comparisons.\n\nmulti_vars2 &lt;- c(\n  \"Time_Friends\", \"Time_SocicalMedia\", \"Time_Studying\"\n)\n\nplots2 &lt;- lapply(multi_vars2, function(v) plot_heatmap(survey_final, v))\n\nplot_grid(plotlist = plots2, ncol = 3, align = \"hv\")\n\n\n\n\n\n\n\n\n\nplot_mean_rank_trend &lt;- function(df, time_vars, x = \"GPA\") {\n  trend_df &lt;- df %&gt;%\n    select(all_of(c(x, time_vars))) %&gt;%\n    pivot_longer(cols = all_of(time_vars),\n                 names_to = \"TimeType\",\n                 values_to = \"Level\") %&gt;%\n    mutate(\n      GPA = factor(.data[[x]], ordered = TRUE),\n      Level_num = as.numeric(Level)\n    ) %&gt;%\n    group_by(GPA, TimeType) %&gt;%\n    summarise(\n      mean_rank   = mean(Level_num, na.rm = TRUE),\n      n = sum(!is.na(Level_num)),\n      .groups = \"drop\"\n    )\n\n  ggplot(trend_df, aes(x = GPA, y = mean_rank, group = TimeType, color = TimeType)) +\n    geom_line(linewidth = 1) +\n    geom_point(size = 2) +\n    geom_text(aes(label = paste0(\"n=\", n)), vjust = -0.8, size = 3, show.legend = FALSE) +\n    scale_y_continuous(breaks = 1:5, limits = c(1, 5)) +\n    labs(\n      title = \"Mean time-use rank by GPA category\",\n      x = \"GPA category\",\n      y = \"Mean time rank (1 = lowest, 5 = highest)\",\n      color = \"Time variable\"\n    ) +\n    theme_minimal() +\n    theme(axis.text.x = element_text(angle = 30, hjust = 1))\n}\n\nplot_mean_rank_trend(raw, multi_vars2)\n\n\n\n\n\n\n\n\nThe heatmaps suggest gradual distributional shifts in time-use categories across GPA groups. In particular, higher GPA categories appear to contain a larger share of respondents in higher study-time levels, while lower GPA categories show relatively greater concentration in higher social media and (to a lesser extent) friends-time levels.\nThis visual pattern aligns with the mean-rank trend plot: the average rank for Time_Studying increases modestly with GPA, whereas Time_SocicalMedia and Time_Friends display mild downward trends as GPA rises.\nOverall, the combined visuals indicate a plausible association between reported time allocation and GPA categories. However, the differences are not strongly polarized, and these findings are descriptive rather than causal."
  },
  {
    "objectID": "TE01.html#relationship-between-learning-outcome-and-group-b-motivationexternal-factors-likert-plot",
    "href": "TE01.html#relationship-between-learning-outcome-and-group-b-motivationexternal-factors-likert-plot",
    "title": "Take-home Exercise 1",
    "section": "Relationship between Learning Outcome and Group B: Motivation/External Factors (Likert plot)",
    "text": "Relationship between Learning Outcome and Group B: Motivation/External Factors (Likert plot)\nBuilding on the descriptive analysis of Group A Factors, we next examine Group B Factors, which capture students’ self-reported motivation and learning environment conditions (such as training process, facilities, and perceived support from the university, lecturers, and peers). These variables are measured on Likert-type ordinal scales, so our goal is to compare response distributions rather than treat the values as continuous scores. To visualise these patterns clearly, we use Likert-style distribution plots to summarise overall agreement levels and to assess whether the composition of responses shifts across GPA categories.\n\nHeatmap of conditional proportions\n\nlikert_vars &lt;- c(\n  \"Adapt_Learning_Uni\", \"Study_Methods\", \"SupportOf_Uni\", \"SupportOf_Lec\",\n  \"Facilitie_Uni\", \"Quality_Lecturer\", \"TrainingCurriculum\",\n  \"Competitive_Class\", \"InfuenceF_Friends\"\n)\n\nlikert_labels &lt;- c(\n  Adapt_Learning_Uni  = \"Adaptation to university learning\",\n  Study_Methods       = \"Study methods effectiveness\",\n  SupportOf_Uni       = \"University support\",\n  SupportOf_Lec       = \"Lecturer support\",\n  Facilitie_Uni       = \"University facilities\",\n  Quality_Lecturer    = \"Lecturer quality\",\n  TrainingCurriculum  = \"Curriculum/training relevance\",\n  Competitive_Class   = \"Class competitiveness\",\n  InfuenceF_Friends   = \"Friends' influence\"\n)\n\nlikert_long &lt;- raw %&gt;%\n  select(all_of(likert_vars)) %&gt;%\n  pivot_longer(cols = everything(), names_to = \"item\", values_to = \"resp\") %&gt;%\n  filter(!is.na(resp)) %&gt;%\n  mutate(\n    resp = as.integer(resp),\n    item_label = recode(item, !!!likert_labels),\n    resp_f = factor(resp, levels = 1:5,\n                    labels = c(\"1 - Not at all\", \"2 -   Little\", \"3 -   Moderate\",\n                               \"4 - Quite\", \"5 -    Very\"))\n  )\n\n\nlikert_prop &lt;- likert_long %&gt;%\n  count(item, item_label, resp, resp_f) %&gt;%\n  group_by(item, item_label) %&gt;%\n  mutate(prop = n / sum(n)) %&gt;%\n  ungroup()\n\nrank_top2 &lt;- likert_prop %&gt;%\n  filter(resp %in% c(4, 5)) %&gt;%\n  group_by(item_label) %&gt;%\n  summarise(top2 = sum(prop), .groups = \"drop\") %&gt;%\n  arrange(top2)\n\nplot_df &lt;- likert_prop %&gt;%\n  left_join(rank_top2, by = \"item_label\") %&gt;%\n  mutate(\n    item_label = factor(item_label, levels = rank_top2$item_label),\n    prop_div = ifelse(resp %in% c(1,2), -prop, prop),\n  )\n\nggplot(plot_df, aes(x = prop_div, y = item_label, fill = resp_f)) +\n  geom_col(width = 0.72) +\n  geom_vline(xintercept = 0, linewidth = 0.4) +\n  geom_text(\n    aes(label = ifelse(prop &gt;= 0.06, scales::percent(prop, accuracy = 1), \"\")),\n    position = position_stack(vjust = 0.5),\n    size = 3,\n    color = \"white\"\n  ) +\n  scale_x_continuous(labels = scales::percent_format(accuracy = 1)) +\n  labs(\n    x = \"Share of responses (diverging at Neutral)\",\n    y = NULL,\n    fill = \"Response\",\n    title = \"Perceived learning environment and peer influence\",\n    subtitle = \"Diverging Likert distributions (1–5), sorted by Top-2 agreement (4–5)\") +\n  theme_minimal(base_size = 12) +\n  theme(legend.position = \"bottom\") +\n  scale_fill_viridis_d(option = \"plasma\", direction = -1)\n\n\n\n\n\n\n\n\nAs shown in the diverging Likert chart, responses are generally skewed toward the higher agreement levels (4–5) across most learning-environment and peer-related items, with only small proportions selecting the lowest categories (1–2). Lecturer-facing indicators (lecturer quality and lecturer support) exhibit the strongest top-2 agreement, suggesting broadly positive teaching-related perceptions in this sample. University-level conditions (facilities and university support) remain favourable but display slightly larger “moderate” shares, indicating more mixed evaluations.\nIn comparison, adaptation to university learning and study methods effectiveness show relatively weaker top-2 agreement and greater concentration around the middle category, implying higher heterogeneity in students’ self-perceived readiness and strategy effectiveness. Overall, the plot highlights broadly positive perceptions, while adjustment and study-method factors appear less uniformly endorsed."
  }
]